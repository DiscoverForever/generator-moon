const AV = require('leanengine');
/** 保存前 */
AV.Cloud.beforeSave('<%=entity.name%>', async function(request) {

});
/** 保存后 */
AV.Cloud.afterSave('<%=entity.name%>', async function(request) {
  if (!request.user) {
    throw new Error('Before save object you must login');
  }
  const entity = request.object;
  entity.set('createBy', request.user);
  return await entity.save();
});
/** 更新前 */
AV.Cloud.beforeUpdate('<%=entity.name%>', async function(request) {
  
});
/** 更新后 */
AV.Cloud.afterUpdate('<%=entity.name%>', async function(request) {
  
});
/** 删除前 */
AV.Cloud.beforeDelete('<%=entity.name%>', async function(request) {
  
});
/** 删除后 */
AV.Cloud.afterDelete('<%=entity.name%>', async function(request) {
  
});

  